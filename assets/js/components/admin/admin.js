const root = document.querySelector('#root');const jobsBtn = document.querySelector('#Jobs');const enterpriseBtn = document.querySelector('#enterprise');const userBtn = document.querySelector('#user');const candidateBtn = document.querySelector('#candidate');const xhr = new XMLHttpRequest();const request = (url) => {    xhr.onload = () => {        if (xhr.status === 200) {            root.innerHTML = xhr.responseText;            return $(document).ready(function() {                $('#dataTable').DataTable({                    columnDefs: [{                        targets: [0],                        orderData: [0, 1],                    }, {                        targets: [1],                        orderData: [1, 0],                    }, {                        targets: [4],                        orderData: [4, 0],                    }, ],                });            });        } else {            root.innerHTML = `<div class="alert alert-danger" role="alert">            ${xhr.status} ${xhr.statusText}            </div>`        }    };    xhr.open('GET', `${url}`);    xhr.send();};request('/src/view/admin/allJobs-view.php');jobsBtn.addEventListener('click', () => {    deleteAll(root);    request('/src/view/admin/allJobs-view.php');});enterpriseBtn.addEventListener('click', () => {    deleteAll(root);    request('/src/view/admin/allEnterprise-view.php');    const script = document.createElement('script');    script.src = '/assets/js/components/admin/enterprise.js';    enterpriseBtn.appendChild(script);});candidateBtn.addEventListener('click', () => {    deleteAll(root);    request('/src/view/admin/allCandidate-view.php');});userBtn.addEventListener('click', () => {    deleteAll(root);    request('/src/view/admin/allUser-view.php');});function deleteAll(contain) {    while (contain.firstChild) {        contain.removeChild(root.lastChild);    }}setInterval(() => {    if(document.querySelector('#addEnterprise') !== null) {        document.querySelector('#addEnterprise').addEventListener('click', (ev) => {            ev.currentTarget.parentNode.parentElement.children[1].remove();            const form = document.createElement('form');            form.setAttribute('action', '/home/admin/dashboard/enterprise/add');            form.setAttribute('method', 'post');            form.setAttribute('class', 'form-horizontal');            form.setAttribute('role', 'form');            form.setAttribute('id', 'addEnterpriseForm');            const companyName = document.createElement('div');            companyName.setAttribute('class', 'form-group');            const companyNameLabel = document.createElement('label');            companyNameLabel.setAttribute('class', 'col-sm-2 control-label');            companyNameLabel.innerHTML = 'Company Name';            const companyNameInput = document.createElement('div');            companyNameInput.setAttribute('class', 'col-sm-10');            const companyNameInputField = document.createElement('input');            companyNameInputField.setAttribute('type', 'text');            companyNameInputField.setAttribute('class', 'form-control');            companyNameInputField.setAttribute('name', 'companyName');            companyNameInputField.setAttribute('placeholder', 'Company Name');            companyNameInput.appendChild(companyNameInputField);            companyName.appendChild(companyNameLabel);            companyName.appendChild(companyNameInput);            form.appendChild(companyName);            const companyLocation = document.createElement('div');            companyLocation.setAttribute('class', 'form-group');            const companyLocationLabel = document.createElement('label');            companyLocationLabel.setAttribute('class', 'col-sm-2 control-label');            companyLocationLabel.innerHTML = 'Company Location';            const companyLocationInput = document.createElement('div');            companyLocationInput.setAttribute('class', 'col-sm-10');            const companyLocationInputField = document.createElement('input');            companyLocationInputField.setAttribute('type', 'text');            companyLocationInputField.setAttribute('class', 'form-control');            companyLocationInputField.setAttribute('name', 'companyLocation');            companyLocationInputField.setAttribute('placeholder', 'Company Location');            companyLocationInput.appendChild(companyLocationInputField);            companyLocation.appendChild(companyLocationLabel);            companyLocation.appendChild(companyLocationInput);            form.appendChild(companyLocation);            const companyLogo = document.createElement('div');            companyLogo.setAttribute('class', 'form-group');            const companyLogoLabel = document.createElement('label');            companyLogoLabel.setAttribute('class', 'col-sm-2 control-label');            companyLogoLabel.innerHTML = 'Company Logo';            const companyLogoInput = document.createElement('div');            companyLogoInput.setAttribute('class', 'col-sm-10');            const companyLogoInputField = document.createElement('input');            companyLogoInputField.setAttribute('type', 'file');            companyLogoInputField.setAttribute('class', 'form-control');            companyLogoInputField.setAttribute('name', 'companyLogo');            companyLogoInput.appendChild(companyLogoInputField);            companyLogo.appendChild(companyLogoLabel);            companyLogo.appendChild(companyLogoInput);            form.appendChild(companyLogo);            const submitButton = document.createElement('div');            submitButton.setAttribute('class', 'form-group');            const submitButtonLabel = document.createElement('label');            submitButtonLabel.setAttribute('class', 'col-sm-2 control-label');            submitButtonLabel.innerHTML = 'Submit';            const submitButtonInput = document.createElement('div');            submitButtonInput.setAttribute('class', 'col-sm-10');            const submitButtonInputField = document.createElement('input');            submitButtonInputField.setAttribute('type', 'submit');            submitButtonInputField.setAttribute('class', 'btn btn-primary');            submitButtonInputField.setAttribute('value', 'Submit');            submitButtonInput.appendChild(submitButtonInputField);            submitButton.appendChild(submitButtonLabel);            submitButton.appendChild(submitButtonInput);            form.appendChild(submitButton);            document.querySelector('#bodyAppend').appendChild(form);        })    };    const edit = document.querySelectorAll('#editEnterprise');    let firstElement;    let secondElement;    edit.forEach(function (editEnterprise) {        editEnterprise.addEventListener('click', function (e) {            if(e.currentTarget.parentNode !== null){                firstElement = e.currentTarget.parentNode.parentNode.children[1].innerHTML;                secondElement = e.currentTarget.parentNode.parentNode.children[2].innerHTML;                e.currentTarget.parentNode.parentNode.children[1].innerHTML = '<input type="text" class="form-control" name="company" placeholder="Company Name" value="' + e.currentTarget.parentNode.parentNode.children[1].innerHTML + '">';                e.currentTarget.parentNode.parentNode.children[2].innerHTML = '<input type="text" class="form-control" name="location" placeholder="Company location" value="' + e.currentTarget.parentNode.parentNode.children[2].innerHTML + '">';                e.currentTarget.parentNode.innerHTML = '<button class="btn btn-danger">Cancel</button><button class="btn btn-primary">Submit</button>';            }            const cancel = document.querySelectorAll('.btn-danger');            cancel.forEach(function (cancel) {                cancel.addEventListener('click', function (e) {                    if(e.currentTarget.parentNode !== null){                        e.currentTarget.parentNode.parentNode.children[1].innerHTML = firstElement;                        e.currentTarget.parentNode.parentNode.children[2].innerHTML = secondElement;                        e.currentTarget.parentNode.innerHTML = '<td><a class="btnJobs" style="margin-left: 1rem" id="editEnterprise"><i class="fa-solid fa-pen-to-square"></i></a><a class="btnJobs" style="margin-left: 1rem" href="/home/admin/dashboard"><i class="fa-solid fa-trash"></i></a></td>\n';                    }                })            })            const submit = document.querySelectorAll('.btn-primary');            submit.forEach(function (submit) {                submit.addEventListener('click', function (e) {                    if(e.currentTarget.parentNode !== null) {                        const companyName = e.currentTarget.parentNode.parentNode.children[1].children[0].value;                        const companyLocation = e.currentTarget.parentNode.parentNode.children[2].children[0].value;                        const id = e.currentTarget.parentNode.parentNode.children[0].innerText;                        // add all the value in cookie                        const cookie = {                            companyName: companyName,                            companyLocation: companyLocation,                            id: id                        };                        document.cookie = `data=${JSON.stringify(cookie)}`;                        window.location.href = `/home/admin/dashboard/enterprise/edit/${id}`;                    }})            })        });    })}, 1250)setInterval(() => {    if(document.querySelector('#addUser') !== null){        document.querySelector('#addUser').addEventListener('click', (ev) => {            ev.currentTarget.parentNode.parentElement.children[1].remove();            const form = document.createElement('form');            form.setAttribute('action', '/home/admin/dashboard/user/add');            form.setAttribute('method', 'POST');            form.setAttribute('class', 'form-group');            const firstName = document.createElement('input');            firstName.setAttribute('type', 'text');            firstName.setAttribute('name', 'firstName');            firstName.setAttribute('class', 'form-control');            firstName.setAttribute('placeholder', 'First Name');            form.appendChild(firstName);            const lastName = document.createElement('input');            lastName.setAttribute('type', 'text');            lastName.setAttribute('name', 'lastName');            lastName.setAttribute('class', 'form-control');            lastName.setAttribute('placeholder', 'Last Name');            form.appendChild(lastName);            const email = document.createElement('input');            email.setAttribute('type', 'email');            email.setAttribute('name', 'email');            email.setAttribute('class', 'form-control');            email.setAttribute('placeholder', 'Email');            form.appendChild(email);            const company = document.createElement('input');            company.setAttribute('type', 'text');            company.setAttribute('name', 'company');            company.setAttribute('class', 'form-control');            company.setAttribute('placeholder', 'Company');            form.appendChild(company);            const role = document.createElement('input');            role.setAttribute('type', 'text');            role.setAttribute('name', 'role');            role.setAttribute('class', 'form-control');            role.setAttribute('placeholder', 'Role');            form.appendChild(role);            const password = document.createElement('input');            password.setAttribute('type', 'password');            password.setAttribute('name', 'password');            password.setAttribute('class', 'form-control');            password.setAttribute('placeholder', 'Password');            form.appendChild(password);            const submit = document.createElement('input');            submit.setAttribute('type', 'submit');            submit.setAttribute('class', 'btn btn-primary');            submit.setAttribute('value', 'Submit');            form.appendChild(submit);            document.querySelector('#bodyAppend').appendChild(form);        })    }    const edit = document.querySelectorAll('#editUser');    let firstname;    let lastname;    let email;    let company;    let role;    edit.forEach(function (editUser) {        editUser.addEventListener('click', function (e) {            if(e.currentTarget.parentNode !== null){                firstname = e.currentTarget.parentNode.parentNode.children[1].innerHTML;                lastname = e.currentTarget.parentNode.parentNode.children[2].innerHTML;                email = e.currentTarget.parentNode.parentNode.children[3].innerHTML;                company = e.currentTarget.parentNode.parentNode.children[4].innerHTML;                role = e.currentTarget.parentNode.parentNode.children[5].innerHTML;                e.currentTarget.parentNode.parentNode.children[1].innerHTML = '<input type="text" class="form-control" name="company" placeholder="Company Name" value="' + e.currentTarget.parentNode.parentNode.children[1].innerHTML + '">';                e.currentTarget.parentNode.parentNode.children[2].innerHTML = '<input type="text" class="form-control" name="location" placeholder="Company location" value="' + e.currentTarget.parentNode.parentNode.children[2].innerHTML + '">';                e.currentTarget.parentNode.parentNode.children[3].innerHTML = '<input type="text" class="form-control" name="location" placeholder="Company location" value="' + e.currentTarget.parentNode.parentNode.children[3].innerHTML + '">';                e.currentTarget.parentNode.parentNode.children[4].innerHTML = '<input type="text" class="form-control" name="location" placeholder="Company location" value="' + e.currentTarget.parentNode.parentNode.children[4].innerHTML + '">';                e.currentTarget.parentNode.parentNode.children[5].innerHTML = '<input type="text" class="form-control" name="location" placeholder="Company location" value="' + e.currentTarget.parentNode.parentNode.children[5].innerHTML + '">';                e.currentTarget.parentNode.innerHTML = '<button class="btn btn-danger">Cancel</button><button class="btn btn-primary">Submit</button>';            }            const cancel = document.querySelectorAll('.btn-danger');            cancel.forEach(function (cancel) {                cancel.addEventListener('click', function (e) {                    if(e.currentTarget.parentNode !== null){                        e.currentTarget.parentNode.parentNode.children[1].innerHTML = firstname;                        e.currentTarget.parentNode.parentNode.children[2].innerHTML = lastname;                        e.currentTarget.parentNode.parentNode.children[3].innerHTML = email;                        e.currentTarget.parentNode.parentNode.children[4].innerHTML = company;                        e.currentTarget.parentNode.parentNode.children[5].innerHTML = role;                        e.currentTarget.parentNode.innerHTML = '<td><a class="btnJobs" style="margin-left: 1rem" id="editUser"><i class="fa-solid fa-pen-to-square"></i></a><a class="btnJobs" style="margin-left: 1rem" href="/home/admin/dashboard"><i class="fa-solid fa-trash"></i></a></td>\n';                    }                })            })            const submit = document.querySelectorAll('.btn-primary');            submit.forEach(function (submit) {                submit.addEventListener('click', function (e) {                    document.cookie = "data=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";                    if(e.currentTarget.parentNode !== null) {                        const firstname = e.currentTarget.parentNode.parentNode.children[1].children[0].value;                        const lastname = e.currentTarget.parentNode.parentNode.children[2].children[0].value;                        const companyName = e.currentTarget.parentNode.parentNode.children[4].children[0].value;                        const email = e.currentTarget.parentNode.parentNode.children[3].children[0].value;                        const role = e.currentTarget.parentNode.parentNode.children[5].children[0].value;                        const id = e.currentTarget.parentNode.parentNode.children[0].innerHTML;                        // add all the value in cookie                        const cookie = {                            firstname: firstname,                            lastname: lastname,                            email: email,                            role: role,                            companyName: companyName,                            id: id                        };                        document.cookie = `data=${JSON.stringify(cookie)}`;                        window.location.href = `/home/admin/dashboard/user/edit/${id}`;                    }})            })        });    })}, 1250)setInterval(() => {    if(document.querySelector('#addJobs') !== null){        document.querySelector('#addJobs').addEventListener('click', (ev) => {            ev.currentTarget.parentNode.parentElement.children[1].remove();            const form = document.createElement('form');            form.setAttribute('action', '/home/admin/dashboard/job/add');            form.setAttribute('method', 'post');            form.setAttribute('enctype', 'multipart/form-data');            form.setAttribute('id', 'formAddJobs');            form.classList.add('form-group');            const div = document.createElement('div');            div.classList.add('mb-3');            const company = document.createElement('input');            company.setAttribute('type', 'text');            company.setAttribute('name', 'company');            company.setAttribute('placeholder', 'Company');            company.setAttribute('id', 'company');            company.setAttribute('required', 'required');            company.classList.add('form-control');            div.appendChild(company);            form.appendChild(div);            const contract = document.createElement('input');            contract.setAttribute('type', 'text');            contract.setAttribute('name', 'contract');            contract.setAttribute('placeholder', 'Contract');            contract.setAttribute('id', 'contract');            contract.setAttribute('required', 'required');            contract.classList.add('form-control');            form.appendChild(contract);            const position = document.createElement('input');            position.setAttribute('type', 'text');            position.setAttribute('name', 'position');            position.setAttribute('placeholder', 'Position');            position.setAttribute('id', 'position');            position.setAttribute('required', 'required');            position.classList.add('form-control');            form.appendChild(position);            const description = document.createElement('textarea');            description.setAttribute('name', 'description');            description.setAttribute('placeholder', 'Description');            description.setAttribute('id', 'description');            description.setAttribute('required', 'required');            description.classList.add('form-control');            form.appendChild(description);            const requirements_content = document.createElement('textarea');            requirements_content.setAttribute('name', 'req_content');            requirements_content.setAttribute('placeholder', 'Requirements Content');            requirements_content.setAttribute('id', 'requirements_content');            requirements_content.setAttribute('required', 'required');            requirements_content.classList.add('form-control');            form.appendChild(requirements_content);            const requirement_list = document.createElement('input');            requirement_list.setAttribute('type', 'text');            requirement_list.setAttribute('name', 'req_item');            requirement_list.setAttribute('placeholder', 'Requirements List');            requirement_list.setAttribute('id', 'req_item');            requirement_list.setAttribute('required', 'required');            requirement_list.classList.add('form-control');            form.appendChild(requirement_list);            const role_content = document.createElement('textarea');            role_content.setAttribute('name', 'role_content');            role_content.setAttribute('placeholder', 'Role Content');            role_content.setAttribute('id', 'role_content');            role_content.setAttribute('required', 'required');            role_content.classList.add('form-control');            form.appendChild(role_content);            const role_list = document.createElement('input');            role_list.setAttribute('type', 'text');            role_list.setAttribute('name', 'role_item');            role_list.setAttribute('placeholder', 'Role List');            role_list.setAttribute('id', 'role_item');            role_list.setAttribute('required', 'required');            role_list.classList.add('form-control');            form.appendChild(role_list);            const submit = document.createElement('input');            submit.setAttribute('type', 'submit');            submit.setAttribute('value', 'Submit');            submit.setAttribute('id', 'submit');            submit.classList.add('btn', 'btn-primary');            form.appendChild(submit);            const cancel = document.createElement('input');            cancel.setAttribute('type', 'button');            cancel.setAttribute('value', 'Cancel');            cancel.setAttribute('id', 'cancel');            cancel.classList.add('btn', 'btn-danger');            form.appendChild(cancel);            document.querySelector('#bodyAppend').appendChild(form);        })    }}, 1250)